<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link href="/css/filterstyles.css" rel = "stylesheet">
        <style>
            table {
                border-collapse: collapse;
                border: 2px black solid;
                font: 12px sans-serif;
            }

            td {
                border: 1px black solid;
                padding: 5px;
            }
        </style>
    </head>
        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Filter...">
        <!-- <script src="http://d3js.org/d3.vÃŸ3.min.js"></script> -->
        <script src="/js/ds.js"></script>
    <body>

        

       <script type="text/javascript"charset="utf-8">
            var myTable = d3.text("/WebContent/superbowl-ads.csv", function(data) {
                var parsedCSV = d3.csv.parseRows(data);

                var container = d3.select("body")
                    .append("table")
                        
                    .selectAll("tr")
                        .data(parsedCSV).enter()
                        .append("tr")

                    .selectAll("td")
                        .data(function(d) { return d; }).enter()
                        .append("td")
                        .text(function(d) { return d; });
            });

            function myFunction() {
                var input, filter, table, tr, id, i, txtValue;
                input = document.getElementsByTagName("myInput");
                filter = input.value.toUpperCase();
                table = myTable;
                tr = table.getElementsByTagName("tr");

                for (i = 0; i < tr.length; i++){
                    td = tr[i].getElementsByTagName("td")[1];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                        }
                        else{
                            tr[i].style.display = "none";
                        }
                    }
                }
            }
            
        </script>
    </body>
</html>

